import{S as Me,i as ze,s as Fe,J as We,K as Re,k as r,w as Ge,a as h,q as z,l as s,m as u,x as He,c as _,r as F,h as i,n as t,b as ie,y as Je,E as e,L as Ee,M as ye,N as Ke,f as Ye,t as je,z as Qe,O as Xe,o as Ze,P as $e,B as Ae,u as et}from"./index-28f47c29.js";import{s as Se}from"./supabaseClient-70197f8c.js";import{A as tt}from"./Avatar-447ff616.js";import"./navigation-71f41e52.js";function at(f){let a,l,n,o,b,P,V,x,g,m,B,S,C,v,w,E,ee,p,W,ae,U,y,k,R,q,G,T,J,I,M,A,re,te;function K(c){f[6](c)}let Y={size:10};return f[4]!==void 0&&(Y.url=f[4]),l=new tt({props:Y}),We.push(()=>Re(l,"url",K)),{c(){a=r("form"),Ge(l.$$.fragment),o=h(),b=r("div"),P=r("label"),V=z("Email"),x=h(),g=r("input"),B=h(),S=r("div"),C=r("label"),v=z("Full Name"),w=h(),E=r("input"),ee=h(),p=r("div"),W=r("label"),ae=z("Website"),U=h(),y=r("input"),k=h(),R=r("div"),q=r("input"),T=h(),J=r("div"),I=r("button"),M=z("Sign Out"),this.h()},l(c){a=s(c,"FORM",{method:!0,action:!0});var d=u(a);He(l.$$.fragment,d),o=_(d),b=s(d,"DIV",{});var j=u(b);P=s(j,"LABEL",{for:!0});var oe=u(P);V=F(oe,"Email"),oe.forEach(i),x=_(j),g=s(j,"INPUT",{name:!0,id:!0,type:!0}),j.forEach(i),B=_(d),S=s(d,"DIV",{});var le=u(S);C=s(le,"LABEL",{for:!0});var H=u(C);v=F(H,"Full Name"),H.forEach(i),w=_(le),E=s(le,"INPUT",{name:!0,id:!0,type:!0}),le.forEach(i),ee=_(d),p=s(d,"DIV",{});var Q=u(p);W=s(Q,"LABEL",{for:!0});var ne=u(W);ae=F(ne,"Website"),ne.forEach(i),U=_(Q),y=s(Q,"INPUT",{name:!0,id:!0,type:!0}),Q.forEach(i),k=_(d),R=s(d,"DIV",{});var ue=u(R);q=s(ue,"INPUT",{type:!0,class:!0}),ue.forEach(i),d.forEach(i),T=_(c),J=s(c,"DIV",{});var X=u(J);I=s(X,"BUTTON",{class:!0});var ce=u(I);M=F(ce,"Sign Out"),ce.forEach(i),X.forEach(i),this.h()},h(){t(P,"for","email"),t(g,"name","email"),t(g,"id","email"),t(g,"type","text"),g.value=m=f[0].user.email,g.disabled=!0,t(C,"for","name"),t(E,"name","name"),t(E,"id","name"),t(E,"type","text"),t(W,"for","website"),t(y,"name","website"),t(y,"id","website"),t(y,"type","text"),t(q,"type","submit"),t(q,"class","button block primary"),q.value=G=f[1]?"Loading...":"Update",q.disabled=f[1],t(a,"method","POST"),t(a,"action","?/updateProfile"),t(I,"class","button block"),I.disabled=f[1]},m(c,d){ie(c,a,d),Je(l,a,null),e(a,o),e(a,b),e(b,P),e(P,V),e(b,x),e(b,g),e(a,B),e(a,S),e(S,C),e(C,v),e(S,w),e(S,E),Ee(E,f[2]),e(a,ee),e(a,p),e(p,W),e(W,ae),e(p,U),e(p,y),Ee(y,f[3]),e(a,k),e(a,R),e(R,q),ie(c,T,d),ie(c,J,d),e(J,I),e(I,M),A=!0,re||(te=[ye(E,"input",f[7]),ye(y,"input",f[8]),ye(I,"click",f[5])],re=!0)},p(c,[d]){const j={};!n&&d&16&&(n=!0,j.url=c[4],Ke(()=>n=!1)),l.$set(j),(!A||d&1&&m!==(m=c[0].user.email)&&g.value!==m)&&(g.value=m),d&4&&E.value!==c[2]&&Ee(E,c[2]),d&8&&y.value!==c[3]&&Ee(y,c[3]),(!A||d&2&&G!==(G=c[1]?"Loading...":"Update"))&&(q.value=G),(!A||d&2)&&(q.disabled=c[1]),(!A||d&2)&&(I.disabled=c[1])},i(c){A||(Ye(l.$$.fragment,c),A=!0)},o(c){je(l.$$.fragment,c),A=!1},d(c){c&&i(a),Qe(l),c&&i(T),c&&i(J),re=!1,Xe(te)}}}function lt(f,a,l){let{session:n}=a,o=!1,b,P,V,x;Ze(()=>{g()});const g=async()=>{try{l(1,o=!0);const{user:v}=n,{data:w,error:E,status:ee}=await Se.from("users").select("username, first_name, last_name, website, country, avatar_url").eq("id",v.id).single();if(w&&(b=w.username,l(2,P=w.first_name),l(3,V=w.website),l(4,x=w.avatar_url)),E&&ee!==406)throw E}catch(v){v instanceof Error&&alert(v.message)}finally{l(1,o=!1)}};async function m(){try{l(1,o=!0);let{error:v}=await Se.auth.signOut();if(v)throw v}catch(v){v instanceof Error&&alert(v.message)}finally{l(1,o=!1)}}function B(v){x=v,l(4,x)}function S(){P=this.value,l(2,P)}function C(){V=this.value,l(3,V)}return f.$$set=v=>{"session"in v&&l(0,n=v.session)},[n,o,P,V,x,m,B,S,C]}class dt extends Me{constructor(a){super(),ze(this,a,lt,at,Fe,{session:0})}}function qe(f){let a,l=f[0].error+"",n;return{c(){a=r("div"),n=z(l),this.h()},l(o){a=s(o,"DIV",{class:!0});var b=u(a);n=F(b,l),b.forEach(i),this.h()},h(){t(a,"class","block notification is-danger")},m(o,b){ie(o,a,b),e(a,n)},p(o,b){b&1&&l!==(l=o[0].error+"")&&et(n,l)},d(o){o&&i(a)}}}function Be(f){let a,l;return{c(){a=r("p"),l=z("The email field is required"),this.h()},l(n){a=s(n,"P",{class:!0});var o=u(a);l=F(o,"The email field is required"),o.forEach(i),this.h()},h(){t(a,"class","error")},m(n,o){ie(n,a,o),e(a,l)},d(n){n&&i(a)}}}function Ce(f){let a,l;return{c(){a=r("p"),l=z("Invalid credentials!"),this.h()},l(n){a=s(n,"P",{class:!0});var o=u(a);l=F(o,"Invalid credentials!"),o.forEach(i),this.h()},h(){t(a,"class","error")},m(n,o){ie(n,a,o),e(a,l)},d(n){n&&i(a)}}}function rt(f){var we,Ie,De;let a,l,n,o,b,P,V,x,g,m,B,S,C,v,w,E,ee,p,W,ae,U,y,k,R,q,G,T,J,I,M,A,re,te,K,Y,c,d,j="Login",oe,le,H,Q,ne,ue,X,ce,D=((we=f[0])==null?void 0:we.error)&&qe(f),N=((Ie=f[0])==null?void 0:Ie.missing)&&Be(),O=((De=f[0])==null?void 0:De.incorrect)&&Ce();return{c(){a=r("body"),l=r("div"),n=r("section"),o=r("img"),P=h(),V=r("div"),x=r("div"),g=r("div"),m=r("div"),B=r("h2"),S=z("Login in"),C=h(),D&&D.c(),v=h(),w=r("p"),E=z("Welcome back!"),ee=h(),p=r("form"),N&&N.c(),W=h(),O&&O.c(),ae=h(),U=r("div"),y=r("div"),k=r("input"),q=h(),G=r("div"),T=r("input"),J=h(),I=r("div"),M=r("div"),A=r("div"),re=h(),te=r("button"),K=r("div"),Y=r("input"),c=h(),d=r("p"),oe=z(j),le=h(),H=r("p"),Q=r("span"),ne=z("Don’t have an account?"),ue=h(),X=r("a"),ce=z("Create free account"),this.h()},l(L){a=s(L,"BODY",{class:!0});var Z=u(a);l=s(Z,"DIV",{class:!0});var ve=u(l);n=s(ve,"SECTION",{class:!0});var se=u(n);o=s(se,"IMG",{class:!0,src:!0,alt:!0}),P=_(se),V=s(se,"DIV",{class:!0});var me=u(V);x=s(me,"DIV",{class:!0});var pe=u(x);g=s(pe,"DIV",{class:!0});var he=u(g);m=s(he,"DIV",{class:!0});var $=u(m);B=s($,"H2",{class:!0});var Pe=u(B);S=F(Pe,"Login in"),Pe.forEach(i),C=_($),D&&D.l($),v=_($),w=s($,"P",{class:!0});var Ve=u(w);E=F(Ve,"Welcome back!"),Ve.forEach(i),ee=_($),p=s($,"FORM",{class:!0,method:!0,action:!0});var de=u(p);N&&N.l(de),W=_(de),O&&O.l(de),ae=_(de),U=s(de,"DIV",{class:!0});var fe=u(U);y=s(fe,"DIV",{class:!0});var xe=u(y);k=s(xe,"INPUT",{class:!0,type:!0,placeholder:!0,name:!0,autocomplete:!0}),xe.forEach(i),q=_(fe),G=s(fe,"DIV",{class:!0});var ke=u(G);T=s(ke,"INPUT",{class:!0,id:!0,type:!0,placeholder:!0,name:!0,autocomplete:!0}),ke.forEach(i),J=_(fe),I=s(fe,"DIV",{class:!0});var Te=u(I);M=s(Te,"DIV",{class:!0});var _e=u(M);A=s(_e,"DIV",{class:!0}),u(A).forEach(i),re=_(_e),te=s(_e,"BUTTON",{class:!0});var Ne=u(te);K=s(Ne,"DIV",{class:!0});var be=u(K);Y=s(be,"INPUT",{type:!0,class:!0}),c=_(be),d=s(be,"P",{class:!0});var Oe=u(d);oe=F(Oe,j),Oe.forEach(i),be.forEach(i),Ne.forEach(i),_e.forEach(i),Te.forEach(i),fe.forEach(i),de.forEach(i),le=_($),H=s($,"P",{class:!0});var ge=u(H);Q=s(ge,"SPAN",{});var Le=u(Q);ne=F(Le,"Don’t have an account?"),Le.forEach(i),ue=_(ge),X=s(ge,"A",{class:!0,href:!0});var Ue=u(X);ce=F(Ue,"Create free account"),Ue.forEach(i),ge.forEach(i),$.forEach(i),he.forEach(i),pe.forEach(i),me.forEach(i),se.forEach(i),ve.forEach(i),Z.forEach(i),this.h()},h(){var L,Z;t(o,"class","absolute top-0 transform left-1/2 -translate-x-1/2"),$e(o.src,b="/elements/radial.svg")||t(o,"src",b),t(o,"alt",""),t(B,"class","mb-4 font-heading font-bold text-gray-100 text-6xl sm:text-7xl"),t(w,"class","mb-11 text-lg text-gray-200"),t(k,"class","w-full px-5 py-3.5 text-gray-500 placeholder-gray-500 bg-white outline-none focus:ring-4 focus:ring-indigo-500 border border-gray-200 rounded-lg"),t(k,"type","email"),t(k,"placeholder","Email address"),t(k,"name","email"),t(k,"autocomplete","username"),k.value=R=((Z=(L=f[0])==null?void 0:L.values)==null?void 0:Z.email)??"",t(y,"class","w-full p-2"),t(T,"class","w-full px-5 py-3.5 text-gray-500 placeholder-gray-500 bg-white outline-none focus:ring-4 focus:ring-indigo-500 border border-gray-200 rounded-lg"),t(T,"id","password"),t(T,"type","password"),t(T,"placeholder","Password"),t(T,"name","password"),t(T,"autocomplete","current-password"),T.required=!0,t(G,"class","w-full p-2"),t(A,"class","absolute top-0 left-0 w-full h-full bg-gradient-blue opacity-0 group-hover:opacity-50 rounded-lg transition ease-out duration-300"),t(Y,"type","submit"),t(Y,"class","absolute top-0 left-0 transform -translate-y-full group-hover:-translate-y-0 h-full w-full bg-gray-900 transition ease-in-out duration-500"),Y.disabled=st,Y.value="",t(d,"class","relative z-10"),t(K,"class","relative py-4 px-9 bg-gradient-blue overflow-hidden rounded-md"),t(te,"class","p-1 w-full font-heading font-medium text-base text-white overflow-hidden rounded-md"),t(M,"class","group relative"),t(I,"class","w-full p-2"),t(U,"class","flex flex-wrap max-w-md mx-auto -m-2 mb-5"),t(p,"class","row flex-center flex"),t(p,"method","POST"),t(p,"action","?/signin"),t(X,"class","text-blue-700 hover:text-blue-500"),t(X,"href","/register"),t(H,"class","text-base text-gray-200"),t(m,"class","md:max-w-xl text-center mx-auto"),t(g,"class","w-full p-6"),t(x,"class","flex flex-wrap -m-6"),t(V,"class","relative z-10 container mx-auto px-4"),t(n,"class","h-screen relative pt-16 pb-36 bg-gradient-black2 overflow-hidden"),t(l,"class",""),t(a,"class","antialiased bg-body text-body font-body")},m(L,Z){ie(L,a,Z),e(a,l),e(l,n),e(n,o),e(n,P),e(n,V),e(V,x),e(x,g),e(g,m),e(m,B),e(B,S),e(m,C),D&&D.m(m,null),e(m,v),e(m,w),e(w,E),e(m,ee),e(m,p),N&&N.m(p,null),e(p,W),O&&O.m(p,null),e(p,ae),e(p,U),e(U,y),e(y,k),e(U,q),e(U,G),e(G,T),e(U,J),e(U,I),e(I,M),e(M,A),e(M,re),e(M,te),e(te,K),e(K,Y),e(K,c),e(K,d),e(d,oe),e(m,le),e(m,H),e(H,Q),e(Q,ne),e(H,ue),e(H,X),e(X,ce)},p(L,[Z]){var ve,se,me,pe,he;(ve=L[0])!=null&&ve.error?D?D.p(L,Z):(D=qe(L),D.c(),D.m(m,v)):D&&(D.d(1),D=null),(se=L[0])!=null&&se.missing?N||(N=Be(),N.c(),N.m(p,W)):N&&(N.d(1),N=null),(me=L[0])!=null&&me.incorrect?O||(O=Ce(),O.c(),O.m(p,ae)):O&&(O.d(1),O=null),Z&1&&R!==(R=((he=(pe=L[0])==null?void 0:pe.values)==null?void 0:he.email)??"")&&k.value!==R&&(k.value=R)},i:Ae,o:Ae,d(L){L&&i(a),D&&D.d(),N&&N.d(),O&&O.d()}}}let st=!1;function it(f,a,l){let{form:n}=a;return f.$$set=o=>{"form"in o&&l(0,n=o.form)},[n]}class ft extends Me{constructor(a){super(),ze(this,a,it,rt,Fe,{form:0})}}export{dt as A,ft as a};
